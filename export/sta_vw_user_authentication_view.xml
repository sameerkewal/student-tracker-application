<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog 
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns:n0="http://www.oracle.com/xml/ns/dbchangelog-ext" 
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog 
	http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">
	<changeSet id="b5201611b5889a804903393c954cc10aa64a910d" author="(STA)-Generated" failOnError="false"   runOnChange="false" runAlways="false"  >
		<n0:createSxmlObject objectName="STA_VW_USER_AUTHENTICATION" objectType="VIEW" ownerName="STA"  replaceIfExists="false" >
			<n0:source><![CDATA[
  <VIEW xmlns="http://xmlns.oracle.com/ku" version="1.0">
   <SCHEMA>%USER_NAME%</SCHEMA>
   <NAME>STA_VW_USER_AUTHENTICATION</NAME>
   <DEFAULT_COLLATION>USING_NLS_COMP</DEFAULT_COLLATION>
   <COL_LIST>
      <COL_LIST_ITEM>
         <NAME>USR_ID</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>USR_EMAIL</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>RLE_ID</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>RLE_NAME</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>PVE_ID</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>PVE_NAME</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>AUTH_ID</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>AUTH_NAME</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>AUTH_APEX_COMPONENT_TYPE</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>AUTH_APEX_PAGE</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>AUTH_APEX_COMPONENT_NAME</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>AUTH_ROW_OPERATION</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
      <COL_LIST_ITEM>
         <NAME>AUTH_READ_ONLY</NAME>
         <ANNOTATION_LIST></ANNOTATION_LIST>
      </COL_LIST_ITEM>
   </COL_LIST>
   <ANNOTATION_LIST></ANNOTATION_LIST>
   <SUBQUERY>select usr.id                   as usr_id
    ,      usr.email                as usr_email
    ,      rle.id                   as rle_id
    ,      rle.name                 as rle_name
    ,      pve.id                   as pve_id 
    ,      pve.name                 as pve_name
    ,      auth.id                  as auth_id
    ,      auth.name                as auth_name
    ,      auth.apex_component_type as auth_apex_component_type
    ,      auth.apex_page           as auth_apex_page
    ,      auth.apex_component_name as auth_apex_component_name
    ,      auth.row_operation       as auth_row_operation
    ,      auth.read_only           as auth_read_only
    from   sta_user                     usr
    join   sta_user_role                usr_rle  on usr_rle.usr_id  = usr.id
    join   sta_role                     rle      on rle.id          = usr_rle.rle_id
    join   sta_role_privilege           rle_pve  on rle_pve.rle_id  = rle.id
    join   sta_privilege                pve      on rle_pve.pve_id  = pve.id
    join   sta_authorization_privilege  auth_pve on auth_pve.pve_id = pve.id
    join   sta_authorization            auth     on auth.id         = auth_pve.auth_id
    where  usr.deleted_flg = false</SUBQUERY>
</VIEW>]]></n0:source>
		</n0:createSxmlObject>
	</changeSet>
</databaseChangeLog>

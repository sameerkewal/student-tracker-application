create table sta_user
(
    id              number generated by default on null as identity,
    first_name      varchar2(80) not null,
    last_name       varchar2(80) not null,
    date_of_birth   date,
    address1        varchar2(100) not null,
    address2        varchar2(100),
    phone_number1   varchar2(20),
    phone_number2   varchar2(20),
    ctkr_id         number,
    remarks         varchar2(4000),
    constraint sta_usr_pk primary key(id),
    constraint sta_usr_ctkr_fk foreign key (ctkr_id) references sta_caretaker
);


alter table sta_user add email varchar2(320);
alter table sta_user add password varchar2(40);

alter table sta_user drop column password;


create unique index sta_usr_ix1 on sta_user (lower("FIRST_NAME"), lower("LAST_NAME"), lower("ADDRESS1"));
create unique index sta_usr_ix2 on sta_user (lower("EMAIL"));
alter table sta_user modify phone_number1 varchar2(20) null;
drop table sta_user;
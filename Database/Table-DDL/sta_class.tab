drop table sta_class;


create table sta_class (
    id             number generated by default on null as identity,
    name           varchar2(20) not null,
    usr_id        number not null,
    constraint sta_clss_pk primary key(id),
    constraint sta_clss_grde_fk foreign key(grde_id) references sta_grade,
    constraint sta_clss_grde_fk foreign key(usr_id) references  usr_id
);

comment on table sta_class is 'This table is used to store class information';
comment on column sta_class.usr_id is 'class gaurdian refers to the users table where the user is a teacher';


alter table sta_class add constraint sta_clss_grde_fk foreign key(grde_id) references sta_grade;
alter table sta_class add constraint sta_clss_tchr_fk foreign key(usr_id) references usr_id;

alter table sta_class drop constraint sta_clss_tchr_fk;
alter table sta_class rename column tchr_id to usr_id;



create unique index sta_clss_ix1 on sta_class(lower("NAME"));
drop table sta_class;

